(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6121:function(e,t,n){Promise.resolve().then(n.bind(n,4435))},4435:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var l=n(7437),d=n(3312),i=n(6754),r=n(7972),s=n(8308),a=n(6632),o=n(4285),c=n(2207),u=n(2372),x=n(9623),j=n(2265),f=e=>{let{todo:t,onDoneUpadate:n,onTextUpdate:d,onRemove:i}=e,[a,f]=(0,j.useState)(!1),[h,p]=(0,j.useState)(t.text),m=(0,j.useRef)(null);return(0,j.useEffect)(()=>{a&&m.current&&m.current.focus()},[a]),(0,l.jsxs)(o.k,{alignItems:"center",w:"500px",children:[(0,l.jsx)(s.xu,{p:"4",w:"100%",children:a?(0,l.jsx)(c.g,{ref:m,value:h,onChange:e=>{p(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(f(!a),d(h))},onBlur:()=>{f(!a),d(h)}}):(0,l.jsx)(s.xu,{textAlign:"left",cursor:"pointer",onClick:()=>{f(!a)},children:h})}),(0,l.jsx)(r.L,{}),(0,l.jsx)(s.xu,{p:"4",children:(0,l.jsx)(u.X,{defaultChecked:t.done,onChange:n})}),(0,l.jsx)(s.xu,{p:"4",children:(0,l.jsx)(x.z,{p:"2",size:"1",onClick:i,children:"Remove"})})]})},h=n(4384),p=n(3518),m=e=>{let{createTodo:t}=e,[n,d]=(0,j.useState)("");return(0,l.jsxs)(o.k,{children:[(0,l.jsx)(s.xu,{p:"4",w:"100%",children:(0,l.jsx)(h.NI,{children:(0,l.jsx)(p.I,{value:n,onChange:e=>{d(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(t(n),d(""))}})})}),(0,l.jsx)(s.xu,{p:"4",children:(0,l.jsx)(x.z,{onClick:()=>{t(n),d("")},children:"Add new"})})]})},g=n(1231);function b(e){let{tabId:t}=e,{todos:n,updateTextTodo:d,updateDoneTodo:i,createTodo:r,deleteTodo:o}=function(e){let[t,n]=(0,j.useState)([]);(0,j.useEffect)(()=>{(async()=>{let t=await localStorage.getItem("todos/tab/".concat(e));if(t){let e=JSON.parse(t||"");e&&n(e)}})()},[e]);let l=t=>{localStorage.setItem("todos/tab/".concat(e),JSON.stringify(t))};return{todos:t,updateTextTodo:(e,d)=>{let i=t.map(t=>t.id===e?{...t,text:d}:t);n(i),l(i)},updateDoneTodo:e=>{let d=t.map(t=>t.id===e?{...t,done:!t.done}:t);n(d),l(d)},createTodo:e=>{if(e){let d=[...t,{id:(0,g.Z)(),text:e,done:!1}];n(d),l(d)}},deleteTodo:e=>{let d=t.filter(t=>t.id!==e);n(d),l(d)}}}(t);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(s.xu,{w:"500px",children:[(0,l.jsx)("div",{className:"body",children:n.map(e=>(0,l.jsx)(f,{todo:e,onDoneUpadate:()=>i(e.id),onTextUpdate:t=>d(e.id,t),onRemove:()=>o(e.id)},e.id))}),(0,l.jsx)(a.i,{my:"4"}),(0,l.jsx)(m,{createTodo:r})]})})}var k=n(4456),v=n(6076),w=n(2401),S=n(2128),y=n(6883),C=n(2540);function T(e){let{tabs:t,onCreateTab:n,onDeleteTab:d}=e,[i,r]=(0,j.useState)(!1),a=(0,j.useRef)(null);return(0,j.useEffect)(()=>{i&&a.current&&a.current.focus()},[i]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(v.m,{w:"500px",m:"auto",children:[(0,l.jsxs)(w.t,{children:[t.map(e=>(0,l.jsxs)(S.O,{children:[(0,l.jsx)(s.xu,{mr:"3",children:e.title}),(0,l.jsx)(k.T,{onClick:()=>{d(e.id)}})]},e.id)),(0,l.jsx)(S.O,{children:i?(0,l.jsx)(p.I,{ref:a,onBlur:e=>{r(!i),e.target.value&&n(e.target.value)},onKeyDown:e=>{if("Enter"===e.key){let t=e.target;r(!i),t.value&&n(t.value)}}}):(0,l.jsx)(s.xu,{onClick:()=>{r(!i)},children:"Add new Tab"})})]}),(0,l.jsx)(y.n,{children:t.map(e=>(0,l.jsx)(C.x,{children:e.content},e.id))})]})})}var I=function(){let[e,t]=(0,j.useState)([{id:"e488437e-8366-4d8d-9dd4-89dd5e841c6a",title:"default",content:(0,l.jsx)(b,{tabId:"e488437e-8366-4d8d-9dd4-89dd5e841c6a"})}]);(0,j.useEffect)(()=>{(async()=>{let e=await localStorage.getItem("tabs");if(e){let n=JSON.parse(e||"");n&&t(n.map(e=>({id:e.id,title:e.title,content:(0,l.jsx)(b,{tabId:e.id})})))}})()},[]);let n=e=>{localStorage.setItem("tabs",JSON.stringify(e))};return(0,l.jsxs)(d.x,{children:[(0,l.jsx)(i.X,{textAlign:"center",children:"Todos app"}),(0,l.jsx)(r.L,{my:"4"}),(0,l.jsx)(T,{tabs:e,onCreateTab:d=>{let i=(0,g.Z)();t([...e,{id:i,title:d,content:(0,l.jsx)(b,{tabId:i})}]),n(e.map(e=>({id:e.id,title:e.title})))},onDeleteTab:l=>{t(e.filter(e=>e.id!==l)),n(e.map(e=>({id:e.id,title:e.title})))}})]})}}},function(e){e.O(0,[127,971,69,744],function(){return e(e.s=6121)}),_N_E=e.O()}]);